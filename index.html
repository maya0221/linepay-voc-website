<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LINE Pay VOC Insights Dashboard</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/recharts/umd/Recharts.min.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: sans-serif; background-color: #f8fafc; }
        /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¹€ ë“± ì¡ë‹¤í•œ ìŠ¤íƒ€ì¼ ì œê±°í•˜ê³  í•µì‹¬ë§Œ ë‚¨ê¹€ */
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // âœ… [í•µì‹¬] import êµ¬ë¬¸ì„ ì „ë¶€ ì—†ì• ê³ , ì´ë¯¸ ë¡œë”©ëœ ì „ì—­ ë³€ìˆ˜ì—ì„œ êº¼ë‚´ ì”ë‹ˆë‹¤.
        const { useState, useMemo } = React;
        const { createRoot } = ReactDOM;
        // ì°¨íŠ¸ ë„êµ¬ êº¼ë‚´ê¸°
        const { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Cell } = Recharts;

        // --- ë°ì´í„° ìƒì„± (Mock Data) ---
        const MOCK_DATA = Array.from({ length: 50 }).map((_, i) => ({
            id: i,
            source: ['Facebook', 'App Store', 'Threads'][i % 3],
            date: `2024-03-${((i % 28) + 1).toString().padStart(2, '0')}`,
            country: ['TW', 'TH', 'JP'][i % 3],
            sentiment: ['Positive', 'Neutral', 'Negative'][Math.floor(Math.random() * 3)],
            content: `Customer feedback content #${i+1}...`
        }));

        // --- ë©”ì¸ ì•± ---
        const App = () => {
            const [filter, setFilter] = useState('All');
            
            // ë°ì´í„° í•„í„°ë§
            const filteredData = MOCK_DATA.filter(d => filter === 'All' || d.country === filter);

            // ì°¨íŠ¸ ë°ì´í„° ê³„ì‚°
            const chartData = [
                { name: 'Positive', count: filteredData.filter(d => d.sentiment === 'Positive').length, color: '#00B900' },
                { name: 'Neutral', count: filteredData.filter(d => d.sentiment === 'Neutral').length, color: '#94a3b8' },
                { name: 'Negative', count: filteredData.filter(d => d.sentiment === 'Negative').length, color: '#ef4444' }
            ];

            return (
                <div className="min-h-screen flex flex-col">
                    {/* ìƒë‹¨ í—¤ë” */}
                    <header className="h-16 bg-white border-b flex items-center justify-between px-6 shadow-sm sticky top-0 z-50">
                        <div className="flex items-center gap-2">
                            <div className="w-8 h-8 bg-green-500 rounded flex items-center justify-center text-white font-bold">L</div>
                            <h1 className="font-black text-lg text-slate-800">LINE PAY VOC</h1>
                        </div>
                        <div className="text-xs font-bold text-slate-500">
                            Status: Live ğŸŸ¢
                        </div>
                    </header>

                    <main className="p-6 max-w-6xl mx-auto w-full space-y-6">
                        {/* í•„í„° ì˜ì—­ */}
                        <div className="bg-white p-4 rounded-xl border shadow-sm flex gap-4 items-center">
                            <span className="text-xs font-bold uppercase text-slate-400">Target Country:</span>
                            <select value={filter} onChange={e => setFilter(e.target.value)} className="border p-2 rounded text-sm font-bold">
                                <option value="All">All Markets ğŸŒ</option>
                                <option value="TW">Taiwan ğŸ‡¹ğŸ‡¼</option>
                                <option value="TH">Thailand ğŸ‡¹ğŸ‡­</option>
                                <option value="JP">Japan ğŸ‡¯ğŸ‡µ</option>
                            </select>
                        </div>

                        {/* ì°¨íŠ¸ & ìš”ì•½ ì˜ì—­ */}
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div className="bg-white p-6 rounded-xl border shadow-sm">
                                <h3 className="font-bold text-slate-700 mb-4">ğŸ“Š Sentiment Analysis</h3>
                                <div className="h-64">
                                    <ResponsiveContainer width="100%" height="100%">
                                        <BarChart data={chartData}>
                                            <CartesianGrid strokeDasharray="3 3" vertical={false} />
                                            <XAxis dataKey="name" fontSize={12} />
                                            <YAxis fontSize={12} />
                                            <Tooltip />
                                            <Bar dataKey="count" radius={[4, 4, 0, 0]}>
                                                {chartData.map((entry, index) => (
                                                    <Cell key={`cell-${index}`} fill={entry.color} />
                                                ))}
                                            </Bar>
                                        </BarChart>
                                    </ResponsiveContainer>
                                </div>
                            </div>
                            
                            <div className="bg-white p-6 rounded-xl border shadow-sm flex flex-col justify-center">
                                <h3 className="font-bold text-slate-700 mb-2">ğŸ’¡ AI Insight</h3>
                                <p className="text-slate-600 leading-relaxed text-sm">
                                    Currently showing <strong>{filteredData.length}</strong> feedback items.
                                    <br/><br/>
                                    The dominant sentiment is 
                                    <strong style={{color: chartData.sort((a,b)=>b.count-a.count)[0].color}}> {chartData.sort((a,b)=>b.count-a.count)[0].name}</strong>.
                                    <br/>
                                    Main issues reported in <strong>{filter === 'All' ? 'Global Market' : filter}</strong> relate to payment UX speed.
                                </p>
                            </div>
                        </div>

                        {/* ë¦¬ìŠ¤íŠ¸ ì˜ì—­ */}
                        <div className="bg-white rounded-xl border shadow-sm overflow-hidden">
                            <div className="px-6 py-4 border-b bg-slate-50">
                                <h3 className="font-bold text-slate-700 text-sm">ğŸ’¬ Recent Feedbacks</h3>
                            </div>
                            <div className="max-h-96 overflow-y-auto">
                                <table className="w-full text-sm text-left">
                                    <thead className="text-xs text-slate-500 uppercase bg-slate-50 sticky top-0">
                                        <tr>
                                            <th className="px-6 py-3">Source</th>
                                            <th className="px-6 py-3">Country</th>
                                            <th className="px-6 py-3">Sentiment</th>
                                            <th className="px-6 py-3">Content</th>
                                        </tr>
                                    </thead>
                                    <tbody className="divide-y divide-slate-100">
                                        {filteredData.map((item) => (
                                            <tr key={item.id} className="hover:bg-slate-50">
                                                <td className="px-6 py-3 font-bold">{item.source}</td>
                                                <td className="px-6 py-3">{item.country}</td>
                                                <td className="px-6 py-3">
                                                    {item.sentiment === 'Positive' ? 'ğŸ˜€ Positive' : 
                                                     item.sentiment === 'Negative' ? 'ğŸ˜¡ Negative' : 'ğŸ˜ Neutral'}
                                                </td>
                                                <td className="px-6 py-3 text-slate-600">{item.content}</td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </main>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
